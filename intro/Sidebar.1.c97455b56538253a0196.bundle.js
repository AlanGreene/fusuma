(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ 366:
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(367);

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(53)(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ 367:
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ 369:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidebarComponent", function() { return SidebarComponent; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_sidebar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(364);
/* harmony import */ var screenfull__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(365);
/* harmony import */ var screenfull__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(screenfull__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_icons_fa__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(363);
/* harmony import */ var react_icons_md__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(132);
var styles={sidebar:{minWidth:150,zIndex:1001},overlay:{backgroundColor:'rgba(0, 0, 0, .5)',zIndex:1000}};var url="https://slide.hiroppy.me";var sns=["twitter"];var title="Fusuma";var formatStr=function formatStr(num){return"".concat(num).padStart(2,'0');};var Inner=function Inner(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"sidebar-social"},Array.isArray(sns)&&url&&title&&sns.map(function(s){if(s==='twitter'){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{key:"twitter",href:"https://twitter.com/intent/tweet?text=".concat(title," ").concat(url)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_3__[/* FaTwitter */ "f"],null));}if(s==='hatena'){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{key:"hatena",href:"http://b.hatena.ne.jp/entry/".concat(url),className:"fa fa-hatena"});}})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"sidebar-control"},window.slide&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_4__[/* MdFirstPage */ "b"],{onClick:function onClick(){return props.goTo(0);}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"".concat(formatStr(props.currentIndex+1)," / ").concat(formatStr(window.slide.slides.length))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_4__[/* MdLastPage */ "d"],{onClick:function onClick(){return props.goTo(window.slide.slides.length-1);}}))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_4__[/* MdFullscreen */ "c"],{onClick:function onClick(){screenfull__WEBPACK_IMPORTED_MODULE_2___default.a.enabled?screenfull__WEBPACK_IMPORTED_MODULE_2___default.a.toggle():undefined;}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_4__[/* MdAirplay */ "a"],{onClick:function onClick(){return props.runPresentationMode();},style:{width:18,height:18}}), true?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"https://github.com/hiroppy/fusuma"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_icons_fa__WEBPACK_IMPORTED_MODULE_3__[/* FaGithub */ "a"],{style:{width:18,height:18,marginTop:8}})):undefined),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"sidebar-contents"},props.contents.map(function(content,i){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:"#slide=".concat(content.index),key:i},"- ",content.title);})));};var SidebarComponent=function SidebarComponent(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_sidebar__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"],{sidebar:Inner(props),shadow:false,open:props.opened,styles:styles,sidebarClassName:"sidebar",onSetOpen:props.onSetOpen},''," ");};

/***/ }),

/***/ 371:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(3);
var react_default = /*#__PURE__*/__webpack_require__.n(react);

// EXTERNAL MODULE: ./node_modules/react-icons/fa/index.esm.js
var index_esm = __webpack_require__(363);

// CONCATENATED MODULE: ./src/client/src/components/presentationMode/Controller.js
function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}var Controller=/*#__PURE__*/function(){function Controller(){_classCallCheck(this,Controller);this.receiverQuery='?presenter=view';this.apiType=typeof window.PresentationRequest==='function'?'presentation':'localStorage';this.windowId=null;}_createClass(Controller,[{key:"openView",value:function openView(){var _this=this;return new Promise(function(resolve,reject){if(_this.apiType==='presentation'){_this.presentationRequest=new PresentationRequest([_this.receiverQuery]);navigator.presentation.defaultRequest=_this.presentationRequest;_this.presentationRequest.addEventListener('connectionavailable',function(e){_this.presentationConnection=e.connection;resolve(e.connection.id);});_this.presentationRequest.start().catch(function(err){return reject(err);});}else{_this.windowId=window.open(_this.receiverQuery,'_blank','width=800,height=600');resolve();}});}},{key:"changePage",value:function changePage(pageNum){var data=JSON.stringify({date:Date.now(),page:pageNum});if(this.apiType==='presentation'&&this.presentationConnection){this.presentationConnection.send(data);}if(this.apiType==='localStorage'){window.localStorage.setItem('page',data);}}},{key:"reconnect",value:function(){var _reconnect=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(id){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(this.apiType==='presentation')){_context.next=2;break;}return _context.abrupt("return",this.presentationRequest.reconnect(id));case 2:return _context.abrupt("return",Promise.resolve());case 3:case"end":return _context.stop();}}},_callee,this);}));function reconnect(_x){return _reconnect.apply(this,arguments);}return reconnect;}()},{key:"terminate",value:function terminate(){if(this.apiType==='presentation'&&this.presentationConnection){this.presentationConnection.terminate();this.presentationConnection.close();this.presentationConnection=null;}else if(this.windowId){this.windowId.close();this.windowId=null;}}}]);return Controller;}();
// EXTERNAL MODULE: ./src/client/src/components/ContentView/Base.js + 1 modules
var Base = __webpack_require__(95);

// EXTERNAL MODULE: ./src/client/assets/style/host.css
var host = __webpack_require__(366);

// CONCATENATED MODULE: ./src/client/src/components/ContentView/Host.js
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Host_Host; });
function Host_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function Host_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){Host_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){Host_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function Host_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function Host_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function Host_createClass(Constructor,protoProps,staticProps){if(protoProps)Host_defineProperties(Constructor.prototype,protoProps);if(staticProps)Host_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/**
 * Host for Presentation mode
 */// common and host
var Host_Timer=/*#__PURE__*/function(_React$PureComponent){_inherits(Timer,_React$PureComponent);function Timer(props){var _this;Host_classCallCheck(this,Timer);_this=_possibleConstructorReturn(this,_getPrototypeOf(Timer).call(this,props));_defineProperty(_assertThisInitialized(_this),"changeTimerState",function(state){_this.setState({isStop:state});});_defineProperty(_assertThisInitialized(_this),"start",function(){// it doesn't have to be accurate :)
_this.timerId=setInterval(function(){return _this.update();},1000);_this.changeTimerState(false);});_defineProperty(_assertThisInitialized(_this),"stop",function(){clearInterval(_this.timerId);_this.changeTimerState(true);});_defineProperty(_assertThisInitialized(_this),"reset",function(){_this.stop();_this.current=0;_this.setState({currentTimeStr:'00:00:00'});});_defineProperty(_assertThisInitialized(_this),"update",function(){_this.current+=1000;// https://stackoverflow.com/questions/19700283/how-to-convert-time-milliseconds-to-hours-min-sec-format-in-javascript
var milliseconds=parseInt(_this.current%1000/100);var seconds=Math.floor(_this.current/1000%60).toString().padStart(2,'0');var minutes=Math.floor(_this.current/(1000*60)%60).toString().padStart(2,'0');var hours=Math.floor(_this.current/(1000*60*60)%24).toString().padStart(2,'0');_this.setState({currentTimeStr:"".concat(hours,":").concat(minutes,":").concat(seconds)});});_this.state={isStop:true,currentTimeStr:'00:00:00'};_this.current=0;_this.timerId=null;_this.presentationController=new Controller();return _this;}Host_createClass(Timer,[{key:"render",value:function render(){return react_default.a.createElement("div",{className:"host-timer"},react_default.a.createElement(index_esm["c" /* FaRegHourglass */],{onClick:this.reset}),this.state.isStop?react_default.a.createElement(index_esm["b" /* FaPlay */],{onClick:this.start}):react_default.a.createElement(index_esm["d" /* FaStop */],{onClick:this.stop}),react_default.a.createElement("span",null,this.state.currentTimeStr));}}]);return Timer;}(react_default.a.PureComponent);var Host_Host=/*#__PURE__*/function(_React$PureComponent2){_inherits(Host,_React$PureComponent2);function Host(props){var _this2;Host_classCallCheck(this,Host);_this2=_possibleConstructorReturn(this,_getPrototypeOf(Host).call(this,props));_defineProperty(_assertThisInitialized(_this2),"terminate",function(){try{_this2.props.terminate();if(_this2.presentationController)_this2.presentationController.terminate();_this2.presentationController=null;}catch(e){console.error(e);}});_defineProperty(_assertThisInitialized(_this2),"changeCurrentSlide",function(num){_this2.setState({currentSlide:num});_this2.presentationController.changePage(num);});var _ref=new URL(window.location),origin=_ref.origin,pathname=_ref.pathname;_this2.slides=props.slides;// TODO: separate from current reference
_this2.slideUrl="".concat(origin,"/").concat(pathname,"?sidebar=false#slide=");_this2.presentationController=new Controller();_this2.presentationApiId=null;_this2.state={currentSlide:0};document.onkeyup=function(e){if(e.key==='ArrowLeft'){_this2.changeCurrentSlide(Math.max(0,_this2.state.currentSlide-1));}else if(e.key==='ArrowRight'){_this2.changeCurrentSlide(Math.min(_this2.slides.length-1,_this2.state.currentSlide+1));}};return _this2;}Host_createClass(Host,[{key:"componentDidMount",value:function(){var _componentDidMount=Host_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.presentationController.openView();case 3:this.presentationApiId=_context.sent;_context.next=9;break;case 6:_context.prev=6;_context.t0=_context["catch"](0);console.error(_context.t0);case 9:case"end":return _context.stop();}}},_callee,this,[[0,6]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:"componentWillUnmount",value:function componentWillUnmount(){document.onkeyup=null;if(this.presentationController){this.terminate();}}},{key:"render",value:function render(){var index=this.state.currentSlide;return react_default.a.createElement("div",{className:"host-container"},react_default.a.createElement("div",{className:"host-left-box"},react_default.a.createElement("div",{className:"host-note"},this.slides&&react_default.a.createElement("pre",null,this.slides[index].fusumaProps.note))),react_default.a.createElement("div",{className:"host-right-box"},react_default.a.createElement("div",{className:"host-slide-layer"},react_default.a.createElement("h2",null,"Current"),react_default.a.createElement("iframe",{src:"".concat(this.slideUrl.replace(/slide=(\d?)/,"slide=".concat(index+1))),width:"100%",height:"100%"})),react_default.a.createElement("div",{className:"host-slide-layer"},react_default.a.createElement("h2",null,"Next"),react_default.a.createElement("iframe",{src:"".concat(this.slideUrl.replace(/slide=(\d?)/,"slide=".concat(index+2))),width:"100%",height:"100%"}))),react_default.a.createElement("div",{className:"host-bottom-box"},react_default.a.createElement(index_esm["e" /* FaTimes */],{onClick:this.terminate,className:"terminate-button"}),react_default.a.createElement("div",{className:"host-bottom-box-info"},react_default.a.createElement(Host_Timer,null),react_default.a.createElement("span",{className:"current-slide-num"},index+1," / ",this.slides.length))));}}]);return Host;}(react_default.a.PureComponent);

/***/ })

}]);